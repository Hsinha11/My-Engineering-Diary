# üìÖ Daily Log - 07-08-2025

## üéØ Today's Focus

> Main goal for today was to learn : Web Socket

## ‚úÖ What I Accomplished

- [x] Basic Level of Web Sockets:**Broadcasting the message recieved to all the open clients**
- [x] Intermediate Level of Web Sockets: **CREATE A BASIC CHAT APPLICATION MESSAGE SENT BY A CLIENT IS RECIEVED BY EVERY CLIENT BUT NOT THAT CLIENT**
- [x] Advanced Level of Web Sockets: **GIVE EACH CLIENT A UNIQUE ID ON CONNECTION, DISPLAY THE BROADCASTED MESSAGE AS USER-123 SAYS: HELLO WHEN CLIENT DISCONNECTS, BROADCAST A MESSAGE TO REST CLIENTS THAT THE USER LEFT THE CHAT**

## üß† What I Learned

*Today I learned how to use websockets and how a double duplex connections works,`WebSocket Protocol` , `ws` Library*

### Technical Learnings

- **WebSocket Protocol**: Understood the concept of a full-duplex, persistent communication channel as an alternative to the HTTP request-response model.
- **`ws` Library**:Implemented a WebSocket server in Node.js, handling the `connection`, `message`, and `close` events.
- **Client-Side Implementation**: Created a browser-based client using the native `WebSocket` API to connect to the server and exchange messages.
- **Server-Side Broadcasting**:Developed logic to broadcast messages from one client to all other connected clients, a core pattern for real-time applications.
- **Connection Management**:Assigned unique identifiers to clients upon connection to manage individual sessions and broadcast user-specific events like disconnections.

### Process Improvements

- **Insight**: It taught me how communication b/w clients and servers happens in duplex channels

## üöß Challenges & Blockers

> Tough part was figuring out how to give IDs to each clients and the logic to send messages/broadcast to all the clients

## üîç Code Snippets & Solutions

*Basic Web Socket syntax*
**index.html**

```HTML
    <script>
            // Create a WebSocket connection to the server
            const socket = new WebSocket("ws://localhost:8080");

            // Event listener for when the connection is opened
            socket.onopen = function (event) {
                console.log("Connected to server.");
                socket.send("Hello, this is message from client");
            };

            // Event listener for messages received from the server
            socket.onmessage = function (event) {
                console.log("Server Broadcasted: ", event.data);
            };

            // Event listener for when the connection is closed
            socket.onclose = function (event) {
                console.log("Disconnected from server.");
            };
    </script>
```

---
### server.js

```JavaScript
const { WebSocketServer ,WebSocket} = require("ws");
// Create a WebSocket server on port 8080
const wss = new WebSocketServer({ port: 8080 });

const { v4: uuidv4 } = require('uuid');
wss.on("connection",(ws)=>{
    ws.id = uuidv4();
    console.log(`Client connected with ID: ${ws.id}`);
    ws.on("message", (message) => {
        console.log(`Received message from client ${ws.id}:  ${message}`);
        console.log("Broadcasting message to all clients...");
        // Iterate over every client connected to the server
        wss.clients.forEach((client) => {
            // Check if the client is not the sender and is ready to receive messages
            if (client.readyState === WebSocket.OPEN && client!==ws) {
                // Send the message to THIS client in the loop
                client.send(`Message from sender ${ws.id}: ${message.toString()}`);
            }
        });
    });
    ws.on('close', () => {
        console.log(`Client ${ws.id} disconnected.`);
        
        // Broadcast the disconnect message to all remaining clients
        wss.clients.forEach(client => {
            if (client.readyState === WebSocket.OPEN) {
                client.send(`User ${ws.id} has left the chat.`);
            }
        });
    });
})
console.log("WebSocket server started on port 8080.");
```

## üìö Resources & References

- [Web Sockets Docs](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API) - Offical MDN docs for web sockets

## üéØ Tomorrow's Plan

- [ ] Server-Sent Events (SSE).

## üí≠ Reflection

> *How do you feel about today's progress? What could you do better?*

*I feel pretty good, today's tasks were quite nice, learning was good, I was able to do the stuff on own without needing much assistance. I feel pretty confident in this given how much we have learned today.*

---

**Time Spent**: 1 hours  
**Energy Level**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  
**Satisfaction**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
