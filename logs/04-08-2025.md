# ğŸ“… Daily Log - 04-08-2025

## ğŸ¯ Today's Focus

*Today's goal was to learn how to connect MongoDB and Mongoose to a Node.Js application.
To perform CRUD operation like read/write*



## âœ… What I Accomplished

-   [x] Create a Database Instance on MongoDb
-   [x] Define Schemas/ Model for User , Integrated with JWT exercise from last day, made production grade integrity with password validation
-   [x] Refactored project structure for better experience
-   [x] Learned how to fetch data/ perform CRUD operations in mongodb
-   [x] Password hashing with > bcrypt

## ğŸ§  What I Learned

_Today I learned how to use mongodb database, crud operations on it and how to use bcrypt to make the passwords secured as a hashed password_

### Technical Learnings

-   **Mongodb**: mongodb is the most widely used database perhaps used in development
-   **Bcrypt**: Hashing user passwords with bcrypt before storing them in the database and using bcrypt.compare to verify them during login.
-   **Database Integration**: Refactoring routes to perform asynchronous CRUD (Create, Read) operations using Mongoose models (User.create, User.findOne).

### Process Improvements

- >  **Insight**: It helped me increase my learning so far by introducing the concepts of databases in backend development. I learnt CRUD operations and how to make use of crud operations in Mongodb like .create() and .findOne()/ findAll()
-  > **Insight**: Bcrypt uses hashing which allows to store data as hashed values, I learned how to use it for industry level storing of password and important details

## ğŸš§ Challenges & Blockers

_Refactoring the folders and rewriting the imports made me frustrated_

## ğŸ” Code Snippets & Solutions

_models/User.js_

```JavaScript
const mongoose = require('mongoose');
const { Schema } = mongoose;
const userSchema = new Schema({
Â  Â  username: {
Â  Â  Â  Â  type: String,
Â  Â  Â  Â  required: true,
Â  Â  Â  Â  unique: true,
Â  Â  Â  Â  trim: true
Â  Â  },
Â  Â  email: {
Â  Â  Â  Â  type: String,
Â  Â  Â  Â  required: true,
Â  Â  Â  Â  unique: true
Â  Â  },
Â  Â  password: { // Corrected: removed unique: true
Â  Â  Â  Â  type: String,
Â  Â  Â  Â  required: true,
Â  Â  Â  Â  minlength: 8,
Â  Â  Â  Â  trim: true
Â  Â  },
Â  Â  createdAt: {
Â  Â  Â  Â  type: Date,
Â  Â  Â  Â  default: Date.now
Â  Â  }
});
const User = mongoose.model('User', userSchema);
module.exports = User;
```

_server.js_

```Javascript
try {
Â  Â  Â  Â  const user = await User.findOne({ email: email });

Â  Â  Â  Â  if (!user) {
Â  Â  Â  Â  Â  Â  return res.status(401).json({ error: "Invalid credentials." }); // Unauthorized
Â  Â  Â  Â  }
Â  Â  Â  Â  const isMatch = await bcrypt.compare(password, user.password);
Â  Â  Â  Â  if (!isMatch) {
Â  Â  Â  Â  Â  Â  return res.status(401).json({ error: 'Invalid credentials' });
Â  Â  Â  Â  }
 Â  Â  // User is valid, create the JWT
Â  Â  Â  Â  const userPayload = {
Â  Â  Â  Â  Â  Â  id: user._id,
Â  Â  Â  Â  Â  Â  name: user.username,
Â  Â  Â  Â  Â  Â  isAdmin: user.username === "admin", // Keep  logic
Â  Â  Â  Â  };
Â  Â  Â  Â  const token = jwt.sign(userPayload, JWT_SECRET, { expiresIn: "1h" });
Â  Â  Â  Â  res.json({ token });
Â  Â  } catch (error) {
Â  Â  Â  Â  res.status(500).json({ error: "Server error during login." });
Â  Â  }
```


## ğŸ¯ Tomorrow's Plan

_What will you focus on tomorrow?_

-   [ ] Real-time Features and Production Deployment
  

## ğŸ’­ Reflection

_Feels good to have learnt mongodb and to have made use of crud operations, looking forward to learning more stuff_

---

**Time Spent**: 2 hours  
**Energy Level**: â­â­â­ (1-5)  
**Satisfaction**: â­â­â­â­ (1-5)
